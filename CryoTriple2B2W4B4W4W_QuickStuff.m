sm = {{(g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0}, 
     {0, (g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) + (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, -(((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1)) + 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1), 0, 0}, 
     {-((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(dtop + c1*l1)*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1*l1^3)) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) + 
       (g*(m1 + m2 + m3)*(dtop^2 + c1*dtop*l1 + n0*n1))/(c1*l1)}}
 
g /: g::usage = "g is local gravity."
 
l1 /: l1::usage = "l1 is part of the specification of the model and \
represents the wire length from the blades on the structure to the top mass. \
It is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
m1 /: m1::usage = "m1 is mass of top mass."
 
m2 /: m2::usage = "m2 is mass of middle mass."
 
m3 /: m3::usage = "m3 is mass of optic."
 
dtop /: dtop::usage = 
     "dtop is the the height of the wire attachment points below the top \
blades."
 
n0 /: n0::usage = "n0 is the y-direction separation of the wire attachment \
points on the upper blade springs for the wires leading down to the top \
mass."
 
n1 /: n1::usage = "n1 is the y-direction separation of the wire attachment \
points on the top mass for the wires leading down from the upper blade \
springs (on the structure)."
 
kw1 /: kw1::usage = "kw1 is net longitudinal elasticity of wires from blades \
on structure to top mass."
 
qm = {{kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0, 0}, 
     {0, kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0}, 
     {0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0}, 
     {0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {0, 0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2)}}
 
kbuz /: kbuz::usage = 
     "kbuz is the net vertical elasticity of the upper blades (on \
structure)."
 
kblz /: kblz::usage = 
     "kblz is the net vertical elasticity of the lower blades (on top mass)."
 
l2 /: l2::usage = "l2 is part of the specification of the model and \
represents the wire length from the blades on the top mass to middle mass. It \
is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
kw2 /: kw2::usage = "kw2 is net longitudinal elasticity of wires from blades \
on top mass to optic."
 
n2 /: n2::usage = "n2 is the y-direction separation of the wire attachment \
points on the lower blade springs for the wires leading down to mass I."
 
n3 /: n3::usage = "n3 is the y-direction separation of the wire attachment \
points on mass I for the wires leading down from the lower blade springs."
 
cqsm = {{0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (-2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) + 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) + (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) - (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
 
kmlptr = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, {0, m1, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, m2, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, I2y, I2xy, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, I2xy, I2x, 
      0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      I3y, I3xy}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3xy, I3x}}
 
I1y /: I1y::usage = "I1y is y-axis MOI of top mass."
 
I1x /: I1x::usage = "I1x is x-axis MOI of top mass."
 
I2y /: I2y::usage = "I2y is y-axis MOI of middle mass."
 
I2x /: I2x::usage = "I2x is x-axis MOI of middle mass."
 
I3y /: I3y::usage = "I3y is y-axis MOI of optic."
 
I3x /: I3x::usage = "I3x is x-axis MOI of optic."
 
xmlptr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 0, 
      0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)), 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, -((d3*g*m3)/(c3*l3)) + 
       (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 0, 
      -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, {-((d2*g*(m2 + m3))/(c2*l2)), 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
d1 /: d1::usage = "d1 is the the height of the wire attachment points below \
the COM of mass U for the wires leading down to mass I."
 
d0 /: d0::usage = "d0 is the the height of the wire attachment points above \
the COM of mass U for the wires leading down from the blades on the \
structure."
 
d2 /: d2::usage = "d2 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
si /: si::usage = 
     "si is x-direction separation of wires from second top mass to optic."
 
l3 /: l3::usage = "l3 is part of the specification of the model and \
represents the wire (ribbon) length from middle mass to optic. It is \
interpreted as either a stretched length or an unstretched length depending \
on the value of the switch constant unstretched."
 
d3 /: d3::usage = "d3 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
cqxmlptr = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 0, 
      ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (c1*l1*n1 + d0*(-n0 + n1)) - (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(n0 - n1))/(2*l1^2), 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(-n2 + n3))/(4*l2^2), 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}}
 
cxsmlptr = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 
      0, (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmlp = {{m1, 0, 0, 0, 0, 0}, {0, I1y, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2y, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3y}}
 
xmlp = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      -((g*(m2 + m3))/(c2*l2)), -((d2*g*(m2 + m3))/(c2*l2)), 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 
      (d1*g*(m2 + m3))/(c2*l2), (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0}, {-((g*(m2 + m3))/(c2*l2)), 
      (d1*g*(m2 + m3))/(c2*l2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), -((g*m3)/(c3*l3)), 
      -((d4*g*m3)/(c3*l3))}, {-((d2*g*(m2 + m3))/(c2*l2)), 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      (d3*g*m3)/(c3*l3), (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}, 
     {0, 0, -((g*m3)/(c3*l3)), (d3*g*m3)/(c3*l3), (g*m3)/(c3*l3), 
      (d4*g*m3)/(c3*l3)}, {0, 0, -((d4*g*m3)/(c3*l3)), 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), (d4*g*m3)/(c3*l3), 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}}
 
cqxmlp = {{0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}}
 
cxsmlp = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmtr = {{m1, 0, 0, 0, 0, 0}, {0, I1x, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2x, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3x}}
 
xmtr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {(d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(n4 - n5)^2)/(c3*l3^3) + 
       (4*kw3*(n4 - n5)^2)/(c3^2*l3^2 + (n4 - n5)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {(d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmtr = {{((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(d0*(n0 - n1) - c1*l1*n1) + 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}}
 
cxsmtr = {{0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmy = {{I1z, 0, 0}, {0, I2z, 0}, {0, 0, I3z}}
 
I1z /: I1z::usage = "I1z is z-axis MOI of top mass."
 
I2z /: I2z::usage = "I2z is z-axis MOI of middle mass."
 
I3z /: I3z::usage = "I3z is z-axis MOI of optic."
 
xmy = {{(g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - (g*(m2 + m3)*(n2 - n3)^2*si^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0}, 
     {(g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*(-((n4 - n5)^2*sl^2) + 
          l3^2*(n4*n5 + sl^2)) + g*m3*(-((n4 - n5)^4*sl^2) + 
          l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}}
 
cqxmy = {{0, 0, 0}, {0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}}
 
cxsmy = {{0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmv = {{m1, 0, 0}, {0, m2, 0}, {0, 0, m3}}
 
xmv = {{-(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmv = {{((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}}
 
cxsmv = {{0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
km = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1z, I1yz, I1zx, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1yz, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1zx, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2z, I2yz, I2zx, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2yz, I2y, I2xy, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2zx, I2xy, I2x, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3z, I3yz, I3zx}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3yz, I3y, I3xy}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3zx, I3xy, I3x}}
 
xm = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, 0, 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 
      0, 0, 0, 0, 0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/
        (c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + 
       (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2) - 
       (d0*g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0}, 
     {0, 0, -(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/
        (c1*l1) - (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 
      ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - 
       (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 
      0, 0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 
      0, 0}, {-((g*(m2 + m3))/(c2*l2)), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 
      0, 0, 0, -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 0, 0, 0, 
      0, 0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {-((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/(c2*l2) - 
       (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      0, 0, (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, 0, 0, (d4*g*m3)/(c3*l3), 
      0}, {0, 0, 0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, 0, 0, 0, 0, ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      (g*(m3 - c3^2*m3))/(c3*l3) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      0, 0, (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         (-((n4 - n5)^2*sl^2) + l3^2*(n4*n5 + sl^2)) + 
        g*m3*(-((n4 - n5)^4*sl^2) + l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {0, 0, 0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      0, 0, (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxm = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + 
           (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 
      ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}}
 
cxsm = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, -((g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) - (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (d0*dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
sm = {{(g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0}, 
     {0, (g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) + (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, -(((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1)) + 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1), 0, 0}, 
     {-((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(dtop + c1*l1)*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1*l1^3)) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) + 
       (g*(m1 + m2 + m3)*(dtop^2 + c1*dtop*l1 + n0*n1))/(c1*l1)}}
 
g /: g::usage = "g is local gravity."
 
l1 /: l1::usage = "l1 is part of the specification of the model and \
represents the wire length from the blades on the structure to the top mass. \
It is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
m1 /: m1::usage = "m1 is mass of top mass."
 
m2 /: m2::usage = "m2 is mass of middle mass."
 
m3 /: m3::usage = "m3 is mass of optic."
 
dtop /: dtop::usage = 
     "dtop is the the height of the wire attachment points below the top \
blades."
 
n0 /: n0::usage = "n0 is the y-direction separation of the wire attachment \
points on the upper blade springs for the wires leading down to the top \
mass."
 
n1 /: n1::usage = "n1 is the y-direction separation of the wire attachment \
points on the top mass for the wires leading down from the upper blade \
springs (on the structure)."
 
kw1 /: kw1::usage = "kw1 is net longitudinal elasticity of wires from blades \
on structure to top mass."
 
qm = {{kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0, 0}, 
     {0, kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0}, 
     {0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0}, 
     {0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {0, 0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2)}}
 
kbuz /: kbuz::usage = 
     "kbuz is the net vertical elasticity of the upper blades (on \
structure)."
 
kblz /: kblz::usage = 
     "kblz is the net vertical elasticity of the lower blades (on top mass)."
 
l2 /: l2::usage = "l2 is part of the specification of the model and \
represents the wire length from the blades on the top mass to middle mass. It \
is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
kw2 /: kw2::usage = "kw2 is net longitudinal elasticity of wires from blades \
on top mass to optic."
 
n2 /: n2::usage = "n2 is the y-direction separation of the wire attachment \
points on the lower blade springs for the wires leading down to mass I."
 
n3 /: n3::usage = "n3 is the y-direction separation of the wire attachment \
points on mass I for the wires leading down from the lower blade springs."
 
cqsm = {{0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (-2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) + 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) + (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) - (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
 
kmlptr = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, {0, m1, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, m2, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, I2y, I2xy, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, I2xy, I2x, 
      0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      I3y, I3xy}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3xy, I3x}}
 
I1y /: I1y::usage = "I1y is y-axis MOI of top mass."
 
I1x /: I1x::usage = "I1x is x-axis MOI of top mass."
 
I2y /: I2y::usage = "I2y is y-axis MOI of middle mass."
 
I2x /: I2x::usage = "I2x is x-axis MOI of middle mass."
 
I3y /: I3y::usage = "I3y is y-axis MOI of optic."
 
I3x /: I3x::usage = "I3x is x-axis MOI of optic."
 
xmlptr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 0, 
      0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)), 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, -((d3*g*m3)/(c3*l3)) + 
       (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 0, 
      -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, {-((d2*g*(m2 + m3))/(c2*l2)), 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
d1 /: d1::usage = "d1 is the the height of the wire attachment points below \
the COM of mass U for the wires leading down to mass I."
 
d0 /: d0::usage = "d0 is the the height of the wire attachment points above \
the COM of mass U for the wires leading down from the blades on the \
structure."
 
d2 /: d2::usage = "d2 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
si /: si::usage = 
     "si is x-direction separation of wires from second top mass to optic."
 
l3 /: l3::usage = "l3 is part of the specification of the model and \
represents the wire (ribbon) length from middle mass to optic. It is \
interpreted as either a stretched length or an unstretched length depending \
on the value of the switch constant unstretched."
 
d3 /: d3::usage = "d3 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
cqxmlptr = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 0, 
      ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (c1*l1*n1 + d0*(-n0 + n1)) - (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(n0 - n1))/(2*l1^2), 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(-n2 + n3))/(4*l2^2), 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}}
 
cxsmlptr = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 
      0, (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmlp = {{m1, 0, 0, 0, 0, 0}, {0, I1y, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2y, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3y}}
 
xmlp = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      -((g*(m2 + m3))/(c2*l2)), -((d2*g*(m2 + m3))/(c2*l2)), 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 
      (d1*g*(m2 + m3))/(c2*l2), (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0}, {-((g*(m2 + m3))/(c2*l2)), 
      (d1*g*(m2 + m3))/(c2*l2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), -((g*m3)/(c3*l3)), 
      -((d4*g*m3)/(c3*l3))}, {-((d2*g*(m2 + m3))/(c2*l2)), 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      (d3*g*m3)/(c3*l3), (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}, 
     {0, 0, -((g*m3)/(c3*l3)), (d3*g*m3)/(c3*l3), (g*m3)/(c3*l3), 
      (d4*g*m3)/(c3*l3)}, {0, 0, -((d4*g*m3)/(c3*l3)), 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), (d4*g*m3)/(c3*l3), 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}}
 
cqxmlp = {{0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}}
 
cxsmlp = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmtr = {{m1, 0, 0, 0, 0, 0}, {0, I1x, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2x, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3x}}
 
xmtr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {(d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(n4 - n5)^2)/(c3*l3^3) + 
       (4*kw3*(n4 - n5)^2)/(c3^2*l3^2 + (n4 - n5)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {(d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmtr = {{((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(d0*(n0 - n1) - c1*l1*n1) + 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}}
 
cxsmtr = {{0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmy = {{I1z, 0, 0}, {0, I2z, 0}, {0, 0, I3z}}
 
I1z /: I1z::usage = "I1z is z-axis MOI of top mass."
 
I2z /: I2z::usage = "I2z is z-axis MOI of middle mass."
 
I3z /: I3z::usage = "I3z is z-axis MOI of optic."
 
xmy = {{(g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - (g*(m2 + m3)*(n2 - n3)^2*si^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0}, 
     {(g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*(-((n4 - n5)^2*sl^2) + 
          l3^2*(n4*n5 + sl^2)) + g*m3*(-((n4 - n5)^4*sl^2) + 
          l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}}
 
cqxmy = {{0, 0, 0}, {0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}}
 
cxsmy = {{0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmv = {{m1, 0, 0}, {0, m2, 0}, {0, 0, m3}}
 
xmv = {{-(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmv = {{((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}}
 
cxsmv = {{0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
km = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1z, I1yz, I1zx, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1yz, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1zx, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2z, I2yz, I2zx, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2yz, I2y, I2xy, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2zx, I2xy, I2x, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3z, I3yz, I3zx}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3yz, I3y, I3xy}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3zx, I3xy, I3x}}
 
xm = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, 0, 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 
      0, 0, 0, 0, 0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/
        (c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + 
       (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2) - 
       (d0*g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0}, 
     {0, 0, -(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/
        (c1*l1) - (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 
      ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - 
       (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 
      0, 0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 
      0, 0}, {-((g*(m2 + m3))/(c2*l2)), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 
      0, 0, 0, -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 0, 0, 0, 
      0, 0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {-((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/(c2*l2) - 
       (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      0, 0, (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, 0, 0, (d4*g*m3)/(c3*l3), 
      0}, {0, 0, 0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, 0, 0, 0, 0, ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      (g*(m3 - c3^2*m3))/(c3*l3) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      0, 0, (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         (-((n4 - n5)^2*sl^2) + l3^2*(n4*n5 + sl^2)) + 
        g*m3*(-((n4 - n5)^4*sl^2) + l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {0, 0, 0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      0, 0, (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxm = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + 
           (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 
      ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}}
 
cxsm = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, -((g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) - (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (d0*dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
sm = {{(g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0}, 
     {0, (g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) + (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, -(((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1)) + 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1), 0, 0}, 
     {-((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(dtop + c1*l1)*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1*l1^3)) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) + 
       (g*(m1 + m2 + m3)*(dtop^2 + c1*dtop*l1 + n0*n1))/(c1*l1)}}
 
g /: g::usage = "g is local gravity."
 
l1 /: l1::usage = "l1 is part of the specification of the model and \
represents the wire length from the blades on the structure to the top mass. \
It is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
m1 /: m1::usage = "m1 is mass of top mass."
 
m2 /: m2::usage = "m2 is mass of middle mass."
 
m3 /: m3::usage = "m3 is mass of optic."
 
dtop /: dtop::usage = 
     "dtop is the the height of the wire attachment points below the top \
blades."
 
n0 /: n0::usage = "n0 is the y-direction separation of the wire attachment \
points on the upper blade springs for the wires leading down to the top \
mass."
 
n1 /: n1::usage = "n1 is the y-direction separation of the wire attachment \
points on the top mass for the wires leading down from the upper blade \
springs (on the structure)."
 
kw1 /: kw1::usage = "kw1 is net longitudinal elasticity of wires from blades \
on structure to top mass."
 
qm = {{kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0, 0}, 
     {0, kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0}, 
     {0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0}, 
     {0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {0, 0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2)}}
 
kbuz /: kbuz::usage = 
     "kbuz is the net vertical elasticity of the upper blades (on \
structure)."
 
kblz /: kblz::usage = 
     "kblz is the net vertical elasticity of the lower blades (on top mass)."
 
l2 /: l2::usage = "l2 is part of the specification of the model and \
represents the wire length from the blades on the top mass to middle mass. It \
is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
kw2 /: kw2::usage = "kw2 is net longitudinal elasticity of wires from blades \
on top mass to optic."
 
n2 /: n2::usage = "n2 is the y-direction separation of the wire attachment \
points on the lower blade springs for the wires leading down to mass I."
 
n3 /: n3::usage = "n3 is the y-direction separation of the wire attachment \
points on mass I for the wires leading down from the lower blade springs."
 
cqsm = {{0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (-2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) + 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) + (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) - (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
 
kmlptr = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, {0, m1, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, m2, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, I2y, I2xy, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, I2xy, I2x, 
      0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      I3y, I3xy}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3xy, I3x}}
 
I1y /: I1y::usage = "I1y is y-axis MOI of top mass."
 
I1x /: I1x::usage = "I1x is x-axis MOI of top mass."
 
I2y /: I2y::usage = "I2y is y-axis MOI of middle mass."
 
I2x /: I2x::usage = "I2x is x-axis MOI of middle mass."
 
I3y /: I3y::usage = "I3y is y-axis MOI of optic."
 
I3x /: I3x::usage = "I3x is x-axis MOI of optic."
 
xmlptr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 0, 
      0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)), 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, -((d3*g*m3)/(c3*l3)) + 
       (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 0, 
      -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, {-((d2*g*(m2 + m3))/(c2*l2)), 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
d1 /: d1::usage = "d1 is the the height of the wire attachment points below \
the COM of mass U for the wires leading down to mass I."
 
d0 /: d0::usage = "d0 is the the height of the wire attachment points above \
the COM of mass U for the wires leading down from the blades on the \
structure."
 
d2 /: d2::usage = "d2 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
si /: si::usage = 
     "si is x-direction separation of wires from second top mass to optic."
 
l3 /: l3::usage = "l3 is part of the specification of the model and \
represents the wire (ribbon) length from middle mass to optic. It is \
interpreted as either a stretched length or an unstretched length depending \
on the value of the switch constant unstretched."
 
d3 /: d3::usage = "d3 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
cqxmlptr = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 0, 
      ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (c1*l1*n1 + d0*(-n0 + n1)) - (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(n0 - n1))/(2*l1^2), 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(-n2 + n3))/(4*l2^2), 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}}
 
cxsmlptr = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 
      0, (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmlp = {{m1, 0, 0, 0, 0, 0}, {0, I1y, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2y, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3y}}
 
xmlp = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      -((g*(m2 + m3))/(c2*l2)), -((d2*g*(m2 + m3))/(c2*l2)), 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 
      (d1*g*(m2 + m3))/(c2*l2), (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0}, {-((g*(m2 + m3))/(c2*l2)), 
      (d1*g*(m2 + m3))/(c2*l2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), -((g*m3)/(c3*l3)), 
      -((d4*g*m3)/(c3*l3))}, {-((d2*g*(m2 + m3))/(c2*l2)), 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      (d3*g*m3)/(c3*l3), (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}, 
     {0, 0, -((g*m3)/(c3*l3)), (d3*g*m3)/(c3*l3), (g*m3)/(c3*l3), 
      (d4*g*m3)/(c3*l3)}, {0, 0, -((d4*g*m3)/(c3*l3)), 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), (d4*g*m3)/(c3*l3), 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}}
 
cqxmlp = {{0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}}
 
cxsmlp = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmtr = {{m1, 0, 0, 0, 0, 0}, {0, I1x, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2x, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3x}}
 
xmtr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {(d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(n4 - n5)^2)/(c3*l3^3) + 
       (4*kw3*(n4 - n5)^2)/(c3^2*l3^2 + (n4 - n5)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {(d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmtr = {{((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(d0*(n0 - n1) - c1*l1*n1) + 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}}
 
cxsmtr = {{0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmy = {{I1z, 0, 0}, {0, I2z, 0}, {0, 0, I3z}}
 
I1z /: I1z::usage = "I1z is z-axis MOI of top mass."
 
I2z /: I2z::usage = "I2z is z-axis MOI of middle mass."
 
I3z /: I3z::usage = "I3z is z-axis MOI of optic."
 
xmy = {{(g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - (g*(m2 + m3)*(n2 - n3)^2*si^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0}, 
     {(g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*(-((n4 - n5)^2*sl^2) + 
          l3^2*(n4*n5 + sl^2)) + g*m3*(-((n4 - n5)^4*sl^2) + 
          l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}}
 
cqxmy = {{0, 0, 0}, {0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}}
 
cxsmy = {{0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmv = {{m1, 0, 0}, {0, m2, 0}, {0, 0, m3}}
 
xmv = {{-(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmv = {{((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}}
 
cxsmv = {{0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
km = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1z, I1yz, I1zx, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1yz, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1zx, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2z, I2yz, I2zx, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2yz, I2y, I2xy, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2zx, I2xy, I2x, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3z, I3yz, I3zx}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3yz, I3y, I3xy}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3zx, I3xy, I3x}}
 
xm = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, 0, 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 
      0, 0, 0, 0, 0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/
        (c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + 
       (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2) - 
       (d0*g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0}, 
     {0, 0, -(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/
        (c1*l1) - (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 
      ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - 
       (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 
      0, 0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 
      0, 0}, {-((g*(m2 + m3))/(c2*l2)), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 
      0, 0, 0, -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 0, 0, 0, 
      0, 0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {-((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/(c2*l2) - 
       (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      0, 0, (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, 0, 0, (d4*g*m3)/(c3*l3), 
      0}, {0, 0, 0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, 0, 0, 0, 0, ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      (g*(m3 - c3^2*m3))/(c3*l3) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      0, 0, (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         (-((n4 - n5)^2*sl^2) + l3^2*(n4*n5 + sl^2)) + 
        g*m3*(-((n4 - n5)^4*sl^2) + l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {0, 0, 0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      0, 0, (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxm = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + 
           (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 
      ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}}
 
cxsm = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, -((g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) - (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (d0*dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
sm = {{(g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0}, 
     {0, (g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) + (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, -(((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1)) + 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1), 0, 0}, 
     {-((dtop*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(dtop + c1*l1)*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (dtop*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1*l1^3)) + 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) + 
       (g*(m1 + m2 + m3)*(dtop^2 + c1*dtop*l1 + n0*n1))/(c1*l1)}}
 
g /: g::usage = "g is local gravity."
 
l1 /: l1::usage = "l1 is part of the specification of the model and \
represents the wire length from the blades on the structure to the top mass. \
It is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
m1 /: m1::usage = "m1 is mass of top mass."
 
m2 /: m2::usage = "m2 is mass of middle mass."
 
m3 /: m3::usage = "m3 is mass of optic."
 
dtop /: dtop::usage = 
     "dtop is the the height of the wire attachment points below the top \
blades."
 
n0 /: n0::usage = "n0 is the y-direction separation of the wire attachment \
points on the upper blade springs for the wires leading down to the top \
mass."
 
n1 /: n1::usage = "n1 is the y-direction separation of the wire attachment \
points on the top mass for the wires leading down from the upper blade \
springs (on the structure)."
 
kw1 /: kw1::usage = "kw1 is net longitudinal elasticity of wires from blades \
on structure to top mass."
 
qm = {{kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0, 0}, 
     {0, kbuz - ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 0}, 
     {0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0}, 
     {0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {0, 0, 0, 0, 0, kblz - ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2)}}
 
kbuz /: kbuz::usage = 
     "kbuz is the net vertical elasticity of the upper blades (on \
structure)."
 
kblz /: kblz::usage = 
     "kblz is the net vertical elasticity of the lower blades (on top mass)."
 
l2 /: l2::usage = "l2 is part of the specification of the model and \
represents the wire length from the blades on the top mass to middle mass. It \
is interpreted as either a stretched length or an unstretched length \
depending on the value of the switch constant unstretched."
 
kw2 /: kw2::usage = "kw2 is net longitudinal elasticity of wires from blades \
on top mass to optic."
 
n2 /: n2::usage = "n2 is the y-direction separation of the wire attachment \
points on the lower blade springs for the wires leading down to mass I."
 
n3 /: n3::usage = "n3 is the y-direction separation of the wire attachment \
points on mass I for the wires leading down from the lower blade springs."
 
cqsm = {{0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (-2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) + 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) + (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, ((g*(m1 + m2 + m3) - (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), -1/2*((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) + 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      (2*g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n0 + dtop*(n0 - n1)))/(c1^2*l1^2 + 
          (n0 - n1)^2) - (2*g*l1*(m1 + m2 + m3)*n1)/c1)/(4*l1^2)}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
 
kmlptr = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, {0, m1, 0, 0, 0, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, m2, 0, 0, 0, 0, 
      0, 0, 0}, {0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, I2y, I2xy, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, I2xy, I2x, 
      0, 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
      I3y, I3xy}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3xy, I3x}}
 
I1y /: I1y::usage = "I1y is y-axis MOI of top mass."
 
I1x /: I1x::usage = "I1x is x-axis MOI of top mass."
 
I2y /: I2y::usage = "I2y is y-axis MOI of middle mass."
 
I2x /: I2x::usage = "I2x is x-axis MOI of middle mass."
 
I3y /: I3y::usage = "I3y is y-axis MOI of optic."
 
I3x /: I3x::usage = "I3x is x-axis MOI of optic."
 
xmlptr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 0, 
      0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)), 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, -((d3*g*m3)/(c3*l3)) + 
       (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 0, 
      -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, {-((d2*g*(m2 + m3))/(c2*l2)), 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
d1 /: d1::usage = "d1 is the the height of the wire attachment points below \
the COM of mass U for the wires leading down to mass I."
 
d0 /: d0::usage = "d0 is the the height of the wire attachment points above \
the COM of mass U for the wires leading down from the blades on the \
structure."
 
d2 /: d2::usage = "d2 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
si /: si::usage = 
     "si is x-direction separation of wires from second top mass to optic."
 
l3 /: l3::usage = "l3 is part of the specification of the model and \
represents the wire (ribbon) length from middle mass to optic. It is \
interpreted as either a stretched length or an unstretched length depending \
on the value of the switch constant unstretched."
 
d3 /: d3::usage = "d3 is the height of the wire attachment points above the \
COM of mass I for the wires leading down from the mass U."
 
cqxmlptr = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 0, 
      ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (c1*l1*n1 + d0*(-n0 + n1)) - (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/
          (c1^2*l1^2 + (n0 - n1)^2))*(n0 - n1))/(2*l1^2), 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0}, {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(-n2 + n3))/(4*l2^2), 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - 
         (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0}}
 
cxsmlptr = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 
      0, (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, 
     {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmlp = {{m1, 0, 0, 0, 0, 0}, {0, I1y, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2y, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3y}}
 
xmlp = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      -((g*(m2 + m3))/(c2*l2)), -((d2*g*(m2 + m3))/(c2*l2)), 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 
      (d1*g*(m2 + m3))/(c2*l2), (d1*d2*g*(m2 + m3) + 
        ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
            (n2 - n3)^2))*si^2)/(c2*l2), 0, 0}, {-((g*(m2 + m3))/(c2*l2)), 
      (d1*g*(m2 + m3))/(c2*l2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), -((g*m3)/(c3*l3)), 
      -((d4*g*m3)/(c3*l3))}, {-((d2*g*(m2 + m3))/(c2*l2)), 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      (d3*g*m3)/(c3*l3), (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}, 
     {0, 0, -((g*m3)/(c3*l3)), (d3*g*m3)/(c3*l3), (g*m3)/(c3*l3), 
      (d4*g*m3)/(c3*l3)}, {0, 0, -((d4*g*m3)/(c3*l3)), 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), (d4*g*m3)/(c3*l3), 
      (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3)}}
 
cqxmlp = {{0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}, 
     {0, (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 
      -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {0, -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + (c2^2*kw2*l2^2*si)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 
      (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*si)/(4*c2*l2), 0, 0}}
 
cxsmlp = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, 
      (d0*dtop*g*(m1 + m2 + m3))/(c1*l1), 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmtr = {{m1, 0, 0, 0, 0, 0}, {0, I1x, 0, 0, 0, 0}, {0, 0, m2, 0, 0, 0}, 
     {0, 0, 0, I2x, 0, 0}, {0, 0, 0, 0, m3, 0}, {0, 0, 0, 0, 0, I3x}}
 
xmtr = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {(d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0}, 
     {-((g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(n4 - n5)^2)/(c3*l3^3) + 
       (4*kw3*(n4 - n5)^2)/(c3^2*l3^2 + (n4 - n5)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {(d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/
        (c2*l2) - (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), (g*m3*(d3*d4 - n4*n5))/(c3*l3) + 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3*l3^3) - (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3^2*l3^2 + (n4 - n5)^2), 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmtr = {{((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (-n0 + n1))/(2*l1^2), ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(d0*(n0 - n1) - c1*l1*n1) + 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3))/
       (4*l2^2), (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3))/
       (4*l2^2), (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((2*g*l2*(m2 + m3)*n3)/c2 + 
        2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0}}
 
cxsmtr = {{0, -((g*(m1 + m2 + m3))/(c1*l1)) + (g*(m1 + m2 + m3)*(n0 - n1)^2)/
        (c1*l1^3) - (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmy = {{I1z, 0, 0}, {0, I2z, 0}, {0, 0, I3z}}
 
I1z /: I1z::usage = "I1z is z-axis MOI of top mass."
 
I2z /: I2z::usage = "I2z is z-axis MOI of middle mass."
 
I3z /: I3z::usage = "I3z is z-axis MOI of optic."
 
xmy = {{(g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - (g*(m2 + m3)*(n2 - n3)^2*si^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0}, 
     {(g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 
      (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*(-((n4 - n5)^2*sl^2) + 
          l3^2*(n4*n5 + sl^2)) + g*m3*(-((n4 - n5)^4*sl^2) + 
          l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}}
 
cqxmy = {{0, 0, 0}, {0, 0, 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), 0}, 
     {((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}, 
     {((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + 
           (n2 - n3)^2))*(n2 - n3)*si)/(4*l2^2), 0}}
 
cxsmy = {{0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
kmv = {{m1, 0, 0}, {0, m2, 0}, {0, 0, m3}}
 
xmv = {{-(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/(c1*l1) - 
       (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}, 
     {0, ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxmv = {{((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}, 
     {-1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + (c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 0}}
 
cxsmv = {{0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - 
       (2*c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}}
 
km = {{m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, m1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1z, I1yz, I1zx, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1yz, I1y, I1xy, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, I1zx, I1xy, I1x, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, m2, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2z, I2yz, I2zx, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2yz, I2y, I2xy, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, I2zx, I2xy, I2x, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, m3, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3z, I3yz, I3zx}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3yz, I3y, I3xy}, 
     {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, I3zx, I3xy, I3x}}
 
xm = {{(g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 
      -((g*(m2 + m3))/(c2*l2)), 0, 0, 0, -((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 
      0, 0, 0, 0, 0}, {0, (g*(m2 + m3))/(c2*l2) + (g*(m1 + m2 + m3))/
        (c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) + 
       (2*kw1*(n0 - n1)^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2) - 
       (d0*g*(m1 + m2 + m3))/(c1*l1) - (g*(m1 + m2 + m3)*(n0 - n1)*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, (d2*g*(m2 + m3))/(c2*l2) + 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0}, 
     {0, 0, -(((-1 + c2^2)*g*(m2 + m3))/(c2*l2)) + (g*(m1 + m2 + m3))/
        (c1*l1) - (c1*g*(m1 + m2 + m3))/l1 + (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2) + (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 
      ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, (g*(m1 + m2 + m3)*n0*n1)/(c1*l1) - 
       (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 
      0, 0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 0, 0, 0}, 
     {-((d1*g*(m2 + m3))/(c2*l2)) + (d0*g*(m1 + m2 + m3))/(c1*l1), 0, 0, 0, 
      (d0*g*(d0 + c1*l1)*(m1 + m2 + m3))/(c1*l1) - (c2*g*(m2 + m3)*si^2)/l2 + 
       (4*c2^2*kw2*l2^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + si^2))/(c2*l2), 0, 
      (d1*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 0, 0, 0, 0, 0, 0}, 
     {0, (d1*g*(m2 + m3))/(c2*l2) - (d0*g*(m1 + m2 + m3))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) + 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2) - (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) + (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0^2 + c1*d0*l1 + n0*n1))/(c1*l1) - 
       (g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1*l1^3) + 
       (2*kw1*(c1*l1*n1 + d0*(-n0 + n1))^2)/(c1^2*l1^2 + (n0 - n1)^2) - 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) + 
       (g*(m2 + m3)*(d1^2 + c2*d1*l2 + n2*n3))/(c2*l2), 0, 
      -((d1*g*(m2 + m3))/(c2*l2)) + (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*
         (n2 - n3))/(c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 
      0, 0}, {-((g*(m2 + m3))/(c2*l2)), 0, 0, 0, (d1*g*(m2 + m3))/(c2*l2), 0, 
      (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, -((g*m3)/(c3*l3)), 
      0, 0, 0, -((d4*g*m3)/(c3*l3)), 0}, {0, -((g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(n2 - n3)^2)/(c2*l2^3) - (4*kw2*(n2 - n3)^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, -((d1*g*(m2 + m3))/(c2*l2)) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2*l2^3) - 
       (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*(n2 - n3))/(c2^2*l2^2 + (n2 - n3)^2), 
      0, (g*m3)/(c3*l3) + (g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)^2)/
        (c2*l2^3) + (4*kw2*(n2 - n3)^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(n4 - n5)^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, (d3*g*m3)/(c3*l3) - 
       (d2*g*(m2 + m3))/(c2*l2) - (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + c3^3*g*l3^3*m3*(n4 - n5)*
         n5 + c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, ((-1 + c2^2)*g*(m2 + m3))/(c2*l2) - (4*c2^2*kw2*l2^2)/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 0, 0, (g*(m2 + m3))/(c2*l2) - 
       (c2*g*(m2 + m3))/l2 + (g*(m3 - c3^2*m3))/(c3*l3) + 
       (4*c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      ((-1 + c3^2)*g*m3)/(c3*l3) - (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, 
     {0, 0, 0, (g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3) - 
       (4*kw2*(n2 - n3)^2*si^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2), 0, 0, 0, 0, 0, 
      -((g*(m2 + m3)*(n2 - n3)^2*si^2)/(c2*l2^3)) + (4*kw2*(n2 - n3)^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(n2*n3 + si^2))/(c2*l2) - 
       (g*m3*(n4 - n5)^2*sl^2)/(c3*l3^3) + (4*kw3*(n4 - n5)^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(n4*n5 + sl^2))/(c3*l3), 0, 0, 0, 
      0, 0, (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*
         ((n4 - n5)^2*sl^2 - l3^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {-((d2*g*(m2 + m3))/(c2*l2)), 0, 0, 0, 
      (d1*d2*g*(m2 + m3) + ((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
           (c2^2*l2^2 + (n2 - n3)^2))*si^2)/(c2*l2), 0, 
      -((d3*g*m3)/(c3*l3)) + (d2*g*(m2 + m3))/(c2*l2), 0, 0, 0, 
      -((c2*g*(m2 + m3)*si^2)/l2) + (4*c2^2*kw2*l2^2*si^2)/
        (c2^2*l2^2 + (n2 - n3)^2) + (g*(m2 + m3)*(d2^2 + c2*d2*l2 + si^2))/
        (c2*l2) - (c3*g*m3*sl^2)/l3 + (4*c3^2*kw3*l3^2*sl^2)/
        (c3^2*l3^2 + (n4 - n5)^2) + (g*m3*(d3^2 + c3*d3*l3 + sl^2))/(c3*l3), 
      0, (d3*g*m3)/(c3*l3), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, (d2*g*(m2 + m3))/(c2*l2) + (g*(m2 + m3)*(n2 - n3)*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) - 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d1*d2 - n2*n3))/(c2*l2) + 
       (g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3))*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2*l2^3) - (4*kw2*(c2*l2*n2 + d1*(n2 - n3))*
         (c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2), 0, 
      (d3*g*m3)/(c3*l3) - (d2*g*(m2 + m3))/(c2*l2) - 
       (g*(m2 + m3)*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/(c2*l2^3) + 
       (4*kw2*(n2 - n3)*(c2*l2*n3 + d2*(-n2 + n3)))/
        (c2^2*l2^2 + (n2 - n3)^2) - (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (n4 - n5))/(c3*l3^3) + (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(n4 - n5))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 
      (g*(m2 + m3)*(d2^2 + c2*d2*l2 + n2*n3))/(c2*l2) - 
       (g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2*l2^3) + 
       (4*kw2*(c2*l2*n3 + d2*(-n2 + n3))^2)/(c2^2*l2^2 + (n2 - n3)^2) - 
       (g*m3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))^2)/(c3^2*l3^2 + (n4 - n5)^2) + 
       (g*m3*(d3^2 + c3*d3*l3 + n4*n5))/(c3*l3), 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2)}, {0, 0, 0, 0, 0, 0, -((g*m3)/(c3*l3)), 0, 
      0, 0, (d3*g*m3)/(c3*l3), 0, (g*m3)/(c3*l3), 0, 0, 0, (d4*g*m3)/(c3*l3), 
      0}, {0, 0, 0, 0, 0, 0, 0, (c3^2*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
        g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) - 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d3*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n4*
         (n4 - n5) + c3*l3*(-4*d3*kw3*l3^2 + g*m3*n4*(n4 - n5))*(n4 - n5)^2 + 
        c3^2*(d3*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 4*kw3*l3^4*n4*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 
      (c3^2*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + g*m3*(l3^2*(n4 - n5)^2 - 
          (n4 - n5)^4) + 4*c3*kw3*l3^3*(n4 - n5)^2)/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2))}, 
     {0, 0, 0, 0, 0, 0, 0, 0, ((-1 + c3^2)*g*m3)/(c3*l3) - 
       (4*c3^2*kw3*l3^2)/(c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0, 0, 0, 
      (g*(m3 - c3^2*m3))/(c3*l3) + (4*c3^2*kw3*l3^2)/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 0, 0}, {0, 0, 0, 0, 0, 0, 0, 0, 0, 
      (-4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)) + g*m3*(n4 - n5)^2*((n4 - n5)^2*sl^2 - 
          l3^2*(n4*n5 + sl^2)))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      0, 0, (4*c3*kw3*l3^3*(n4 - n5)^2*sl^2 + c3^2*g*l3^2*m3*
         (-((n4 - n5)^2*sl^2) + l3^2*(n4*n5 + sl^2)) + 
        g*m3*(-((n4 - n5)^4*sl^2) + l3^2*(n4 - n5)^2*(n4*n5 + sl^2)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0}, 
     {0, 0, 0, 0, 0, 0, -((d4*g*m3)/(c3*l3)), 0, 0, 0, 
      (d3*d4*g*m3 + ((-1 + c3^2)*g*m3 - (4*c3^3*kw3*l3^3)/
           (c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0, (d4*g*m3)/(c3*l3), 0, 
      0, 0, (d4^2*g*m3 + c3*d4*g*l3*m3 + (g*(m3 - c3^2*m3) + 
          (4*c3^3*kw3*l3^3)/(c3^2*l3^2 + (n4 - n5)^2))*sl^2)/(c3*l3), 0}, 
     {0, 0, 0, 0, 0, 0, 0, (d4*g*m3*(l3^2*(n4 - n5)^2 - (n4 - n5)^4) + 
        c3^3*g*l3^3*m3*(n4 - n5)*n5 + c3*l3*(n4 - n5)^2*
         (4*d4*kw3*l3^2 + g*m3*(n4 - n5)*n5) + 
        c3^2*(d4*g*l3^2*m3*(l3^2 - (n4 - n5)^2) + 4*kw3*l3^4*n5*(-n4 + n5)))/
       (c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      (g*m3*(d3*d4 - n4*n5))/(c3*l3) + (g*m3*(c3*l3*n4 + d3*(n4 - n5))*
         (c3*l3*n5 + d4*(-n4 + n5)))/(c3*l3^3) - 
       (4*kw3*(c3*l3*n4 + d3*(n4 - n5))*(c3*l3*n5 + d4*(-n4 + n5)))/
        (c3^2*l3^2 + (n4 - n5)^2), 0, 
      (d4*g*m3*(-(l3^2*(n4 - n5)^2) + (n4 - n5)^4) + c3^3*g*l3^3*m3*n5*
         (-n4 + n5) + c3^2*(d4*g*l3^2*m3*(-l3^2 + (n4 - n5)^2) + 
          4*kw3*l3^4*(n4 - n5)*n5) - c3*l3*(n4 - n5)^2*(4*d4*kw3*l3^2 + 
          g*m3*(n4 - n5)*n5))/(c3*l3^3*(c3^2*l3^2 + (n4 - n5)^2)), 0, 0, 0, 
      d4*g*m3 + (d4^2*g*m3)/(c3*l3) + (g*m3*(n4 - n5)*n5)/(2*c3*l3) + 
       (g*m3*n5^2)/(c3*l3) - (g*m3*n5*(-n4 + n5))/(2*c3*l3) - 
       (g*m3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3*l3^3) + 
       (4*kw3*(c3*l3*n5 + d4*(-n4 + n5))^2)/(c3^2*l3^2 + (n4 - n5)^2)}}
 
cqxm = {{0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + 
           (n0 - n1)^2))*(-n0 + n1))/(2*l1^2), 
      ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - (c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, ((-2*g*l1*(m1 + m2 + m3)*n1)/c1 + 
        2*g*(m1 + m2 + m3)*(c1*l1*n1 + d0*(-n0 + n1)) - 
        (4*c1*kw1*l1^3*(c1*l1*n1 + d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/
       (4*l1^2), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((-(g*(m1 + m2 + m3)) + (2*c1*kw1*l1^3)/(c1^2*l1^2 + (n0 - n1)^2))*
        (n0 - n1))/(2*l1^2), ((-1 + c1^2)*g*(m1 + m2 + m3))/(2*c1*l1) - 
       (c1^2*kw1*l1^2)/(c1^2*l1^2 + (n0 - n1)^2), 0, 0, 
      ((2*g*l1*(m1 + m2 + m3)*n1)/c1 + 2*g*(m1 + m2 + m3)*
         (d0*(n0 - n1) - c1*l1*n1) + (4*c1*kw1*l1^3*(c1*l1*n1 + 
           d0*(-n0 + n1)))/(c1^2*l1^2 + (n0 - n1)^2))/(4*l1^2), 0, 0, 0, 0, 
      0, 0, 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3)*si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (-2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) + 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) + 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (-n2 + n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(-n2 + n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((-2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(c2*l2*n3 + d2*(-n2 + n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}, 
     {0, ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3))/(c2*l2) + 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), -1/4*((-1 + c2^2)*g*(m2 + m3)*si)/(c2*l2) + 
       (c2^2*kw2*l2^2*si)/(c2^2*l2^2 + (n2 - n3)^2), 
      (2*g*(m2 + m3)*(c2*l2*n2 + d1*(n2 - n3)) - 
        (8*c2*kw2*l2^3*(c2*l2*n2 + d1*(n2 - n3)))/(c2^2*l2^2 + (n2 - n3)^2) - 
        (2*g*l2*(m2 + m3)*n3)/c2)/(8*l2^2), 0, 
      ((-(g*(m2 + m3)) + (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*
        (n2 - n3))/(4*l2^2), ((-1 + c2^2)*g*(m2 + m3))/(4*c2*l2) - 
       (c2^2*kw2*l2^2)/(c2^2*l2^2 + (n2 - n3)^2), 
      ((g*(m2 + m3) - (4*c2*kw2*l2^3)/(c2^2*l2^2 + (n2 - n3)^2))*(n2 - n3)*
        si)/(4*l2^2), (((-1 + c2^2)*g*(m2 + m3) - (4*c2^3*kw2*l2^3)/
          (c2^2*l2^2 + (n2 - n3)^2))*si)/(4*c2*l2), 
      ((2*g*l2*(m2 + m3)*n3)/c2 + 2*g*(m2 + m3)*(d2*(n2 - n3) - c2*l2*n3) + 
        (8*c2*kw2*l2^3*(c2*l2*n3 + d2*(-n2 + n3)))/(c2^2*l2^2 + (n2 - n3)^2))/
       (8*l2^2), 0, 0, 0, 0, 0, 0}}
 
cxsm = {{-((g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, -((g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(n0 - n1)^2)/(c1*l1^3) - (2*kw1*(n0 - n1)^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      -((dtop*g*(m1 + m2 + m3))/(c1*l1)) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(n0 - n1))/
        (c1^2*l1^2 + (n0 - n1)^2)}, 
     {0, 0, ((-1 + c1^2)*g*(m1 + m2 + m3))/(c1*l1) - (2*c1^2*kw1*l1^2)/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0}, 
     {0, 0, 0, -((g*(m1 + m2 + m3)*n0*n1)/(c1*l1)), 0, 0}, 
     {-((d0*g*(m1 + m2 + m3))/(c1*l1)), 0, 0, 0, (d0*dtop*g*(m1 + m2 + m3))/
       (c1*l1), 0}, {0, (d0*g*(m1 + m2 + m3))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(n0 - n1)*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2), 0, 0, 0, 
      (g*(m1 + m2 + m3)*(d0*dtop - n0*n1))/(c1*l1) + 
       (g*(m1 + m2 + m3)*(c1*l1*n0 + dtop*(n0 - n1))*
         (c1*l1*n1 + d0*(-n0 + n1)))/(c1*l1^3) - 
       (2*kw1*(c1*l1*n0 + dtop*(n0 - n1))*(c1*l1*n1 + d0*(-n0 + n1)))/
        (c1^2*l1^2 + (n0 - n1)^2)}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 0, 0}, 
     {0, 0, 0, 0, 0, 0}}
